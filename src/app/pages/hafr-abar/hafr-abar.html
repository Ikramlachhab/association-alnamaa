<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<div class="toast-container" [class.show]="toastActive">
  <div class="toast-content" [ngClass]="toastType">
    <i class="fas" [ngClass]="toastType === 'success' ? 'fa-check-circle' : 'fa-exclamation-triangle'"></i>
    <span>{{ toastMessage }}</span>
  </div>
</div>

<div class="creative-page abar-theme" dir="rtl">
  <div class="container-wrapper">
    
    <header class="hero-section reveal">
      <div class="header-text">
        <h1 class="main-title">ุณูููุง ุงููุงุก</h1>
        <h2 class="sub-title">"ุฃูุถูู ุงูุตุฏูุฉู ุณููู ุงููุงุก"</h2>
        <p class="hero-desc">ุงุฌุนู ูู ูุจุนุงู ูุง ููุถุจ ูู ุงูุฏููุงุ ูุฑูููุงู ูุฑููู ููู ุงูุนุทุด ุงูุฃูุจุฑ. ุณูู ุงููุงุก ูู ุงูุตุฏูุฉ ุงูุชู ุงุฎุชุงุฑูุง ุงููุจู ๏ทบ ูุฃูุถู ุงูุตุฏูุงุชุ ูุงุฌุนู ูููุง ุจุตูุชู ุงูุฎุงูุฏุฉ.</p>
      </div>
      <div class="image-box">
        <img src="hafar-abar.jpeg" alt="ุญูุฑ ุงูุขุจุงุฑ" class="main-img">
      </div>
    </header>

    <section class="nabaa-section">
      <div class="section-title-wrapper reveal reveal-up">
        <h2 class="dynamic-title"> ูุจุน ุงูุฃูู</h2>
      </div>
      <div class="dynamic-grid">
        <div class="axe-card reveal reveal-right delay-1">
          <div class="axe-content">
            <p>12 ูููููุชุฑุงู: ุชูุทุนูุง ุงูุฃููุงุช ููููุงู ุชุญุช ุดูุณ ุญุงุฑูุฉ ูููุก ุฃูุนูุฉ ุจููุงู ูููุซุฉ.</p>
          </div>
          <div class="axe-icon-wrapper"><i class="fas fa-walking"></i></div>
        </div>
        <div class="axe-card reveal reveal-left delay-2">
          <div class="axe-content">
            <p>ุจุฆุฑ ูุงุญุฏ ููู: ูุฎุชุตุฑ ูุณุงูุงุช ุงูุฃููุ ูููุนูุฏ ููุฃุทูุงู ุญููู ูู ุทูููุฉ ุขููุฉ.</p>
          </div>
          <div class="axe-icon-wrapper"><i class="fas fa-tint"></i></div>
        </div>
      </div>
    </section>

    <div class="moukib-banner-new reveal">
      <div class="moukib-icon"><i class="fas fa-video"></i></div>
      <div class="moukib-content">
        <h3>ุนููู ุนูู ุตุฏูุชู ๐ธ</h3>
        <p>"ููุซู ูู ุฑุญูุฉ ุงููุงุก ูู ุจุงุทู ุงูุฃุฑุถ ุฅูู ูุฏ ุงููุญุชุงุฌ ุนุจุฑ ุชูุงุฑูุฑ ุญูุฉุ ูุน ููุญุฉ ุฑุฎุงููุฉ ูุงุฎุฑุฉ ุจุงุณูู."</p>
      </div>
    </div>

    <section class="story-section reveal">
        <div class="story-card">
            <h3 class="story-title">ุญูุงูุฉู ุบุฑุณู ูุง ูุฐุจู</h3>
            <p class="story-text">
                "ุซูุฉ ุนุทุงุกู ููุฑ ูุงูุณุญุงุจุ ูุซูุฉ ุนุทุงุกู ูุฑุณุฎ ูู ุงูุฃุฑุถ ูุงูุฌุจุงู. ููุงูุชู ูุจุฆุฑ ูุงุก ูู ุงุณุชูุจุงุชู ููุญูุงุฉ ูู ุนุฑููู ุฌููุช. ุชุฎูู ุฃู ุชูุฑ ุงูุณููุงุช ูุจุฆุฑู ูุง ูุฒุงู ูููุถู ุจุงูุฎูุฑุ ููู ูุทุฑุฉู ุชุฌุฑู ูู ุญูุงูุฉู ุดูุฑู ุชูุฑูุน ููุณูุงุก ุจุงุณูู."
            </p>
        </div>
    </section>

    <section class="cards-section">
      <div class="cards-grid">
        <div class="water-fill-card reveal" (click)="activeCard = 1" [class.is-active]="activeCard === 1">
          <div class="water-bg"></div>
          <div class="card-inner">
            <i class="fas fa-droplet card-icon"></i>
            <h4 class="card-title">ุฑููู ุงูุตุงุฏููู</h4>
            <div class="card-expandable">
              <p class="card-desc">ุชุจุฑุนู ูุณูุฑ ูู ุจุฆุฑ ุงุฑุชูุงุฒู ุถุฎูุ ูุชููู ุดุฑููุงู ูู ูู ูุทุฑุฉ ุชุฑูู ูุจุฏุงู ุฑุทุจุฉ.</p>
            </div>
          </div>
        </div>
        <div class="water-fill-card reveal" (click)="activeCard = 2" [class.is-active]="activeCard === 2">
          <div class="water-bg"></div>
          <div class="card-inner">
            <i class="fas fa-faucet card-icon"></i>
            <h4 class="card-title">ูุจุน ุงูููุงุก</h4>
            <div class="card-expandable">
              <p class="card-desc">ุญูุฑ ุจุฆุฑู ุณุทุญู ูุชูุงูู ูู ูุฑูุฉ ูุงุฆูุฉุ ูููุฑ ุงูููุงู ุงููููุฉ ูููุญูู ุงูุฃุฑุถ.</p>
            </div>
          </div>
        </div>
        <div class="water-fill-card reveal" (click)="activeCard = 3" [class.is-active]="activeCard === 3">
          <div class="water-bg"></div>
          <div class="card-inner">
            <i class="fas fa-water card-icon"></i>
            <h4 class="card-title">ุณูุณุจููุงู</h4>
            <div class="card-expandable">
              <p class="card-desc">ุงููุดุฑูุน ุงููุชูุงูู (ุจุฆุฑ ุนูููุ ุฎุฒุงูุ ูุตูุงุจูุฑ)ุ ุตุฏูุฉู ุฌุงุฑูุฉ ุชุฎุฏู ุฃุฌูุงูุงู.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="modal-overlay" *ngIf="showModal" (click)="toggleModal()">
      <div class="modal-window" (click)="$event.stopPropagation()">
        <div class="modal-header-custom">
          <span class="close-x" (click)="toggleModal()">ร</span>
          <h2 class="form-title">ุงุฎุชุฑ ููุน ุงูุณูููุง</h2>
        </div>
        <div class="modal-body-custom">
          <div class="packages-grid-custom">
            <button class="pkg-opt" [class.active-pkg]="selectedOption === 'share'" (click)="setAmount('share', 500)">ุณูู ุจุฆุฑ</button>
            <button class="pkg-opt" [class.active-pkg]="selectedOption === 'surface'" (click)="setAmount('surface', 5000)">ุจุฆุฑ ุณุทุญู</button>
            <button class="pkg-opt" [class.active-pkg]="selectedOption === 'deep'" (click)="setAmount('deep', 15000)">ุจุฆุฑ ุงุฑุชูุงุฒู</button>
            <button class="pkg-opt" [class.active-pkg]="selectedOption === 'full'" (click)="setAmount('full', 25000)">ูุดุฑูุน ุณูุณุจููุงู</button>
          </div>
          
          <div class="amount-container-custom">
            <span class="amount-label" style="font-size: 1.2rem; font-weight: bold;">ุงููุจูุบ ุงููุฑุงุฏ:</span>
            <input type="number" [(ngModel)]="donationAmount" class="amount-display-input">
            <span class="currency-label" style="font-size: 1.5rem; color: #143d59;">ุฏุฑูู</span>
          </div>

          <div class="actions-container-custom">
             <button class="donate-now-gold-btn" (click)="confirmDonation()">ุชุฃููุฏ ูุงุฎุชูุงุฑ ูุณููุฉ ุงูุฏูุน ๐ง</button>
             <button class="cart-icon-btn" (click)="addToCart()" style="border-color: #c5a059; color: #c5a059;"><i class="fas fa-shopping-cart"></i></button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-overlay" *ngIf="showStep2" (click)="showStep2 = false">
      <div class="modal-window horizontal-modal" (click)="$event.stopPropagation()">
        <div class="modal-header-custom">
          <span class="close-x" (click)="showStep2 = false">ร</span>
          <h2 class="form-title">ุฅููุงู ุจูุงูุงุช ุงูุณูููุง</h2>
        </div>
        <div class="modal-body-custom">
          <div class="rib-container-new">
            <label style="font-family: 'Tajawal'; color: #143d59; font-weight: bold; font-size: 1.1rem;">ุฑูู ุงูุญุณุงุจ ุงูุจููู ุงููุฎุตุต ููุขุจุงุฑ:</label>
            <div class="rib-box-new" style="font-size: 1.2rem; letter-spacing: 2px;">{{ bankAccount }}</div>
            <button (click)="copyRIB()" class="copy-btn-logic">{{copyButtonText}} <i class="fas fa-copy"></i></button>
          </div>

          <div class="step-fields-horizontal">
            <div class="step-input-group full-width">
              <label>ุงูุงุณู ุงููุงูู (ูููุญุฉ ุงูุฑุฎุงููุฉ)</label>
              <input type="text" [(ngModel)]="donorName" placeholder="ุงูุชุจ ุงุณูู ุฃู ุงุณู ูู ุชุญุจ" class="step-field">
            </div>
            <div class="step-input-group">
              <label>ุฑูู ุงููุงุชู ุงูุฏููู</label>
              <input type="tel" dir="ltr" [(ngModel)]="donorPhone" placeholder="+212 600..." class="step-field" style="text-align: left;">
            </div>
            <div class="step-input-group">
              <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
              <input type="email" [(ngModel)]="donorEmail" placeholder="example@mail.com" class="step-field">
            </div>
          </div>
          
          <button class="donate-now-gold-btn" style="width: 100%; margin-top: 25px;" (click)="finalSubmit()">ุฅุฑุณุงู ุงูุจูุงูุงุช ูุชุฃููุฏ ุงูุชุจุฑุน โ</button>
          <p class="trust-notice">ุณูุตูู ููุฏูู ุชูุซููู ููุฑ ุจุฏุก ุงูุญูุฑ ูุงูุชูุงูู ุจุฅุฐู ุงููู</p>
        </div>
      </div>
    </div>

    <button class="custom-pill-btn" (click)="toggleModal()">
      <span class="btn-text">ุฅุญูุฑ ุจุฆุฑุงู</span>
      <div class="icon-circle"><i class="fas fa-droplet"></i></div>
    </button>
  </div>
</div>