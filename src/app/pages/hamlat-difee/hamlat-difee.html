<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<div class="toast-container" [class.show]="toastActive">
  <div class="toast-content" [ngClass]="toastType">
    <i class="fas" [ngClass]="toastType === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'"></i>
    <span>{{ toastMessage }}</span>
  </div>
</div>

<div class="creative-page" dir="rtl">
  <div class="container-wrapper">

    <header class="hero-section reveal">
      <div class="image-box"> 
        <img src="difaa.jpeg" alt="ุญููุฉ ุฏูุก" class="main-img">
      </div>
      <div class="header-text">
        <h1 class="main-title">ุญููุฉ ุฏูุก.. ุฃูุงูููู ูู ุณุฎุงุฆู</h1> 
        <h2 class="sub-title">ุชุญุช ุงูุตูุฑุ ููุชุจู ุนุทุงุคู ูุตุฉ ูุฌุงุฉ ูุนุงุฆูุงุช ุชุณูู ุงูุตููุน.</h2>
        <p class="hero-desc">
          ูู ุฃุนุงูู ุงูุฌุจุงู ุญูุซ ูุดุชุฏ ุงูุจุฑุฏ ูุชุบูุจ ุดูุณ ุงูุฏูุกุ ููุงู ุฃุทูุงู ูุฃุฑุงูู ููุชุธุฑูู ููุณุฉ ุญูุงูู. ูุณุงููุชู ุงูููู ููุณุช ูุฌุฑุฏ ุบุทุงุกุ ุจู ูู ุญุตูู ูุญูููู ูู ูุณูุฉ ุงูุดุชุงุก ููุญูู ูู ูููุณูู ุงูุฃูู.
        </p>
      </div>
    </header>

    <section class="axe-section">
      <div class="axe-container-boxed reveal">
        <h3 class="axe-header-gold"> ููุซุงู ุงูุฏูุก ูุงูุดูุงููุฉ</h3>
        <p class="axe-subtitle">ููุชุฒู ุจุงููุตูู ุฅูู ุฃูุตู ููุทุฉ ูู ุงูุฌุจู ููููู ุฃูุงูุชูู ุจูู ุฅุชูุงู.</p>
        
        <div class="axe-grid-layout">
          <div class="axe-item-card ignite-effect reveal delay-1" [class.is-active]="activeAxe === 1" (click)="activeAxe = 1">
            <div class="axe-content">
              <h4>ุฃุบุทูุฉ ุญุฑุงุฑูุฉ ุนุงููุฉ ุงูุฌูุฏุฉ</h4>
              <p>ูุฎุชุงุฑ ุฃูุถู ุงูุฎุงูุงุช ุงูุชู ุชุญูุธ ุญุฑุงุฑุฉ ุงูุฌุณู ูู ุฃูุณู ุงูุธุฑูู.</p>
            </div>
            <div class="axe-icon-wrapper"><i class="fas fa-box-open"></i></div>
          </div>

          <div class="axe-item-card ignite-effect reveal delay-2" [class.is-active]="activeAxe === 2" (click)="activeAxe = 2">
            <div class="axe-icon-wrapper-left"><i class="fas fa-fire-alt"></i></div>
            <div class="axe-content-left">
              <h4>ุญุทุจ ูููุฏ ุขูู</h4>
              <p>ุชูููุฑ ูููุฏ ุงูุชุฏูุฆุฉ ููุฃุณุฑ ูู ุงููุฑู ุงูุชู ุชุนุงูู ูู ุงููุทุงุน ุงููุณุงูู.</p>
            </div>
          </div>

          <div class="axe-item-card ignite-effect reveal delay-3" [class.is-active]="activeAxe === 3" (click)="activeAxe = 3">
            <div class="axe-content">
              <h4>ูุณูุฉ ุงูุดุชุงุก ุงููุงููุฉ</h4>
              <p>ุชุฌููุฒ ุฃุทูู ููุงุจุณ ูุชูุงููุฉ ููุฃุทูุงู ูุถูุงู ุงุณุชูุฑุงุฑ ุฏุฑุงุณุชูู.</p>
            </div>
            <div class="axe-icon-wrapper"><i class="fas fa-tshirt"></i></div>
          </div>

          <div class="axe-item-card ignite-effect reveal delay-4" [class.is-active]="activeAxe === 4" (click)="activeAxe = 4">
            <div class="axe-icon-wrapper-left"><i class="fas fa-hand-holding-heart"></i></div>
            <div class="axe-content-left">
              <h4>ุฅูุตุงู ุงูุฃูุงูุฉ ููุจููุช</h4>
              <p>ูุฑูููุง ุงูููุฏุงูู ูุนุจุฑ ุงูุซููุฌ ููุตู ุจุตุฏูุชูู ููุฏ ุงููุญุชุงุฌ ูุจุงุดุฑุฉ.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="quote-section reveal animated-quote">
      <div class="quote-container">
        <i class="fas fa-snowflake quote-heart-top"></i>
        <p class="animated-text">"ุงูุจุฑุฏ ูุงุฑุณ.. ููู ุฏูุก ูููุจ ุงููุญุณููู ุฃููู ูู ุตููุน ุงูุฌุจุงู. ูู ุดูุณูู ูู ุดุชุงุฆูู."</p>
        <div class="quote-line"></div>
      </div>
    </div>

    <section class="cards-section" style="margin-top: 40px; padding-bottom: 120px;">
      <div class="cards-grid">
        <div class="charity-card-smart reveal" (click)="activeCard = 1" [class.is-active]="activeCard === 1">
          <div class="card-inner">
            <i class="fas fa-tshirt card-icon"></i> 
            <h4 class="card-title">ุจุงูุฉ ุงูุทูู</h4>
            <div class="card-expandable"><p class="card-desc">ูุณูุฉ ูุชูุงููุฉ (ุญุฐุงุกุ ูุนุทูุ ููุจุนุฉ) ูุทูู ูุงุญุฏ.</p></div>
          </div>
        </div>
        
        <div class="charity-card-smart reveal" (click)="activeCard = 2" [class.is-active]="activeCard === 2">
          <div class="card-inner">
            <i class="fas fa-users card-icon"></i> 
            <h4 class="card-title">ุณูุฏ ุงูุนุงุฆูุฉ</h4>
            <div class="card-expandable"><p class="card-desc">ุฃุบุทูุฉ ุญุฑุงุฑูุฉ ููุคููุฉ ุบุฐุงุฆูุฉ ูุจูุช ูุงูู.</p></div>
          </div>
        </div>

        <div class="charity-card-smart reveal" (click)="activeCard = 3" [class.is-active]="activeCard === 3">
          <div class="card-inner">
            <i class="fas fa-fire-alt card-icon"></i> 
            <h4 class="card-title">ุฏูุก ุงููุฑูุฉ</h4>
            <div class="card-expandable"><p class="card-desc">ูุณุงููุฉ ูู ุดุงุญูุฉ ูููุฏ ุชุฏูุฆุฉ ูุญุทุจ ุฌูุงุนู.</p></div>
          </div>
        </div>
      </div>
    </section>

    <div class="modal-overlay" *ngIf="showModal" (click)="toggleModal()">
      <div class="modal-window wide-modal" (click)="$event.stopPropagation()">
        <div class="modal-header-custom" style="background: #006060;"> 
          <span class="close-x" (click)="toggleModal()">ร</span>
          <h2 class="form-title">ุงุฎุชุฑ ูุณุงููุชู ููุฏูุก</h2>
        </div>
        <div class="modal-body-custom">
          <div class="success-toast" *ngIf="addedToCartMsg" style="background: #f0fafa; color: #006060; border: 1px solid #006060; padding: 10px; border-radius: 10px; text-align: center; margin-bottom: 15px;">ุชู ุฅุถุงูุฉ ุงููุณุงููุฉ ุฅูู ุงูุณูุฉ ุจูุฌุงุญ โ</div>
          <div class="packages-grid-custom">
            <button class="pkg-opt" [class.active-pkg]="selectedOption === 'clothes'" (click)="setAmount('clothes', 250)">ูุณูุฉ</button>
            <button class="pkg-opt" [class.active-pkg]="selectedOption === 'blanket'" (click)="setAmount('blanket', 350)">ุฃุบุทูุฉ</button>
            <button class="pkg-opt" [class.active-pkg]="selectedOption === 'wood'" (click)="setAmount('wood', 500)">ุญุทุจ</button>
            <button class="pkg-opt" [class.active-pkg]="selectedOption === 'open'" (click)="setAmount('open', 100)">ูุคููุฉ</button>
          </div>
          <div class="amount-container-custom">
            <span class="currency-label" style="color:#c59d5f; font-weight: bold;">ุฏุฑูู</span>
            <input type="number" [(ngModel)]="donationAmount" class="amount-display-input">
            <span class="amount-label">ุงููุจูุบ</span>
          </div>
          <div class="actions-container-custom">
             <button class="donate-now-gold-btn" style="background: #c59d5f;" (click)="confirmDonation()">ูุชุงุจุนุฉ ุงูุนุทุงุก ๐ฐ</button> 
             <button class="cart-icon-btn" style="background: #006060;" (click)="addToCart()"><i class="fas fa-shopping-cart"></i></button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-overlay" *ngIf="showStep2" (click)="showStep2 = false">
      <div class="modal-window wide-modal" style="max-width: 650px;" (click)="$event.stopPropagation()">
        <div class="modal-header-custom" style="background: #c59d5f;">
          <span class="close-x" (click)="showStep2 = false">ร</span>
          <h2 class="form-title">ููุซุงู ุงูุชุจุฑุน ููุญููุฉ</h2>
        </div>
        <div class="modal-body-custom">
          <div class="rib-container-new" style="background: #f0fafa; border: 1px dashed #006060; padding: 15px; border-radius: 15px; text-align: center; margin-bottom: 20px;">
            <label style="display:block; font-weight:bold; color:#006060; margin-bottom:5px;">ุฑูู ุญุณุงุจ ุงูุฌูุนูุฉ (RIB):</label>
            <div class="rib-box-new" style="font-family: monospace; font-size: 1.1rem; font-weight: bold; margin-bottom: 10px;">{{bankAccount}}</div>
            <button (click)="copyRIB()" class="copy-btn-mini" style="background:#006060; color:white; border:none; padding:5px 15px; border-radius:20px; cursor:pointer;">ูุณุฎ ุฑูู ุงูุญุณุงุจ</button>
          </div>

          <div class="donor-horizontal-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <div class="step-input-group">
              <label style="display:block; text-align:right; font-weight:bold; color:#006060;">ุงูุงุณู ุงููุงูู</label>
              <input type="text" [(ngModel)]="donorName" placeholder="ุงูุงุณู ุงููุฑูู" class="step-field" style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd; text-align:right;">
            </div>
            <div class="step-input-group">
              <label style="display:block; text-align:right; font-weight:bold; color:#006060;">ุฑูู ุงููุงุชู ุงูุฏููู</label>
              <input type="tel" dir="ltr" [(ngModel)]="donorPhone" placeholder="+212 600..." class="step-field" style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd; text-align:left;">
            </div>
            <div class="step-input-group" style="grid-column: span 2;">
              <label style="display:block; text-align:right; font-weight:bold; color:#006060;">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
              <input type="email" [(ngModel)]="donorEmail" placeholder="example@mail.com" class="step-field" style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd; text-align:right;">
            </div>
          </div>

          <button class="donate-now-gold-btn" style="width: 100%; background: #006060; margin-top: 20px; color:white; border:none; padding:15px; border-radius:12px; font-weight:bold; cursor:pointer;" (click)="finalSubmit()">ุชุฃููุฏ ุงููุณุงููุฉ โ</button>
        </div>
      </div>
    </div>

    <button class="custom-pill-btn" (click)="toggleModal()">
      <span class="btn-text">ุฏูุฆูู ุงูุขู</span>
      <div class="icon-circle"><i class="fas fa-fire"></i></div>
    </button>

  </div>
</div>
